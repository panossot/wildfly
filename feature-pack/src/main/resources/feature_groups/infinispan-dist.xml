<?xml version="1.0" encoding="UTF-8"?>
<feature-group-spec name="infinispan-local" xmlns="urn:wildfly:pm-feature-group:1.0">
    <feature spec="infinispan">
        
        <feature spec="infinispan-cache-container">
            <param name="cache-container" value="web"/>
            <param name="module" value="org.wildfly.clustering.web.infinispan"/>
            <param name="default-cache" value="dist"/>
            <feature spec="infinispan-cache-container-transport">
                <param name="transport" value="jgroups"/>
                <param name="lock-timeout" value="60000"/>
            </feature>
            <feature spec="infinispan-cache-container-distributed-cache">
                <param name="distributed-cache" value="dist"/>
                <feature spec="infinispan-cache-container-distributed-cache-locking"/>
                <feature spec="infinispan-cache-container-distributed-cache-transaction"/>
                <feature spec="infinispan-cache-container-distributed-cache-store"/>
            </feature>
        </feature>
        
        <feature spec="infinispan-cache-container">
            <param name="cache-container" value="hibernate"/>
            <param name="module" value="org.hibernate.infinispan"/>
            <param name="default-cache" value="local-query"/>
            <feature spec="infinispan-cache-container-local-cache">
                <param name="local-cache" value="local-query"/>
                <feature spec="infinispan-cache-container-local-cache-eviction"/>
                <feature spec="infinispan-cache-container-local-cache-expiration"/>
            </feature>
            <feature spec="infinispan-cache-container-transport">
                <param name="transport" value="jgroups"/>
                <param name="lock-timeout" value="60000"/>
            </feature>
            <feature spec="infinispan-cache-container-replicated-cache">
                <param name="replicated-cache" value="timestamps"/>
                <param name="mode" value="ASYNC"/>
            </feature>
            <feature spec="infinispan-cache-container-invalidation-cache">
                <param name="invalidation-cache" value="entity"/>
                <feature spec="infinispan-cache-container-invalidation-cache-transaction">
                    <param name="mode" value="NON_XA"/>
                </feature>
                <feature spec="infinispan-cache-container-invalidation-cache-eviction"/>
                <feature spec="infinispan-cache-container-invalidation-cache-expiration"/>
            </feature>
        </feature>

        <feature spec="infinispan-cache-container">
            <param name="cache-container" value="ejb"/>
            <param name="module" value="org.wildfly.clustering.ejb.infinispan"/>
            <param name="default-cache" value="dist"/>
            <param name="aliases" value="[sfsb]"/>
            <feature spec="infinispan-cache-container-transport">
                <param name="transport" value="jgroups"/>
                <param name="lock-timeout" value="60000"/>
            </feature>
            <feature spec="infinispan-cache-container-distributed-cache">
                <param name="distributed-cache" value="dist"/>
                <feature spec="infinispan-cache-container-distributed-cache-locking"/>
                <feature spec="infinispan-cache-container-distributed-cache-transaction"/>
                <feature spec="infinispan-cache-container-distributed-cache-store"/>
            </feature>
        </feature>

        <feature spec="infinispan-cache-container">
            <param name="cache-container" value="server"/>
            <param name="module" value="org.wildfly.clustering.server"/>
            <param name="default-cache" value="default"/>
            <param name="aliases" value="[singleton cluster]"/>
            <feature spec="infinispan-cache-container-transport">
                <param name="transport" value="jgroups"/>
                <param name="lock-timeout" value="60000"/>
            </feature>
             <feature spec="infinispan-cache-container-replicated-cache">
                <param name="replicated-cache" value="default"/>
                <feature spec="infinispan-cache-container-replicated-cache-transaction"/>
            </feature>
        </feature>
        
    </feature>
</feature-group-spec>

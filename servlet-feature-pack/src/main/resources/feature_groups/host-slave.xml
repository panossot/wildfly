<?xml version="1.0" encoding="UTF-8"?>
<feature-group-spec name="host-slave" xmlns="urn:wildfly:pm-feature-group:1.0">

    <feature-pack dependency="core">
        <feature-group name="host-slave">
            <exclude spec="management-interface-http-interface"/>
            <include feature-id="host:host=slave">
                <feature spec="jvm">
                    <param name="environment-variables" value="undefined"/>
                </feature>
            </include>
        </feature-group>
        
        <feature spec="host">
            <param name="host" value="slave"/>
            <feature spec="security-realm">
                <param name="security-realm" value="ManagementRealm"/>
                <feature spec="server-identity-secret">
                    <param name="value" value="&quot;c2xhdmVfdXMzcl9wYXNzd29yZA==&quot;"/>
                </feature>
            </feature>

            <feature spec="security-realm">
                <param name="security-realm" value="ApplicationRealm"/>
                <feature spec="server-identity">
                    <param name="server-identity" value="ssl"/>
                    <param name="keystore-path" value="application.keystore"/>
                    <param name="keystore-relative-to" value="jboss.domain.config.dir"/>
                    <param name="keystore-password" value="password"/>
                    <param name="key-password" value="password"/>
                    <param name="alias" value="server"/>
                </feature>
            </feature>

            <feature spec="management-interface-native-interface">
                <param name="security-realm" value="ManagementRealm"/>
                <param name="interface" value="management"/>
                <param name="port" value="${jboss.management.native.port:9999}"/>
            </feature>

            <feature spec="interface">
                <param name="interface" value="private"/>
                <param name="inet-address" value="${jboss.bind.address.private:127.0.0.1}"/>
            </feature>

            <feature spec="discovery-options">
                <feature spec="static-discovery">
                    <param name="static-discovery" value="primary"/>
                    <param name="protocol" value="${jboss.domain.master.protocol:remote}"/>
                    <param name="port" value="${jboss.domain.master.port:9999}"/>
                </feature>
            </feature>

        </feature>
    </feature-pack>

</feature-group-spec>
